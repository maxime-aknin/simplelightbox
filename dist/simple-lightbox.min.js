/*!
	By Andr√© Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.de
	Available for use under the MIT License
	1.17.2
*/
!function(ot,st,lt){"use strict";ot.fn.simpleLightbox=function(B){B=ot.extend({sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox"},B);function F(){return l.hash.substring(1)}function h(){F();var t="pid="+(V+1),e=l.href.split("#")[0]+"#"+t;s?history[m?"replaceState":"pushState"]("",lt.title,e):m?l.replace(e):l.hash=t,m=!0}function t(e,a){var n;return function(){var t=arguments;n||(e.apply(this,t),n=!0,setTimeout(function(){return n=!1},a))}}function a(t){if(!B.fileExt)return!0;var e=ot(t).attr(B.sourceAttr).match(/\.([0-9a-z]+)(?=[?#])|(\.)(?:[\w]+)$/gim);return e&&ot(t).prop("tagName").toUpperCase()==o&&new RegExp(".("+B.fileExt+")$","i").test(e)}function n(t){t.trigger(ot.Event("show.simplelightbox")),B.disableScroll&&(u=E("hide")),B.htmlClass&&""!=B.htmlClass&&ot("html").addClass(B.htmlClass),y.appendTo("body"),_.appendTo(y),B.overlay&&r.appendTo(ot("body")),v=!0,V=U.index(t),j=ot("<img/>").hide().attr("src",t.attr(B.sourceAttr)).attr("data-scale",1).attr("data-translate-x",0).attr("data-translate-y",0),-1==d.indexOf(t.attr(B.sourceAttr))&&d.push(t.attr(B.sourceAttr)),_.html("").attr("style",""),j.appendTo(_),w(),r.fadeIn("fast"),ot(".sl-close").fadeIn("fast"),f.show(),J.fadeIn("fast"),ot(".sl-wrapper .sl-counter .sl-current").text(V+1),g.fadeIn("fast"),tt(),B.preloading&&T(),setTimeout(function(){t.trigger(ot.Event("shown.simplelightbox"))},B.animationSpeed)}function N(t,e,a){return t<e?e:a<t?a:t}function P(t,e,a){j.data("scale",t),j.data("translate-x",e),j.data("translate-y",a)}var p,e,Z="ontouchstart"in st,z=(st.navigator.pointerEnabled||st.navigator.msPointerEnabled,0),H=0,j=ot(),i=function(){var t=lt.body||lt.documentElement;return""===(t=t.style).WebkitTransition?"-webkit-":""===t.MozTransition?"-moz-":""===t.OTransition?"-o-":""===t.transition&&""},K=!1,d=[],U=B.rel&&!1!==B.rel?(e=B.rel,ot(this).filter(function(){return ot(this).attr("rel")===e})):this,o=U.get()[0].tagName,u=(i=i(),0),$=!1!==i,s="pushState"in history,m=!1,l=st.location,Q=F(),G="simplelb",r=ot("<div>").addClass("sl-overlay"),c=ot("<button>").addClass("sl-close").html(B.closeText),f=ot("<div>").addClass("sl-spinner").html("<div></div>"),J=ot("<div>").addClass("sl-navigation").html('<button class="sl-prev">'+B.navText[0]+'</button><button class="sl-next">'+B.navText[1]+"</button>"),g=ot("<div>").addClass("sl-counter").html('<span class="sl-current"></span>/<span class="sl-total"></span>'),v=!1,V=0,x=0,b=ot("<div>").addClass("sl-caption "+B.captionClass+" pos-"+B.captionPosition),_=ot("<div>").addClass("sl-image"),y=ot("<div>").addClass("sl-wrapper").addClass(B.className),tt=function(s){if(j.length){var l=new Image,r=st.innerWidth*B.widthRatio,c=st.innerHeight*B.heightRatio;l.src=j.attr("src"),j.data("scale",1),j.data("translate-x",0),j.data("translate-y",0),at(0,0,1),ot(l).on("error",function(t){U.eq(V).trigger(ot.Event("error.simplelightbox")),K=!(v=!1),f.hide();var e=1==s||-1==s;x===V&&e?it():(B.alertError&&alert(B.alertErrorMessage),nt(e?s:1))}),l.onload=function(){void 0!==s&&U.eq(V).trigger(ot.Event("changed.simplelightbox")).trigger(ot.Event((1===s?"nextDone":"prevDone")+".simplelightbox")),B.history&&(m?p=setTimeout(h,800):h()),-1==d.indexOf(j.attr("src"))&&d.push(j.attr("src"));var t=l.width,e=l.height;if(B.scaleImageToRatio||r<t||c<e){var a=r/c<t/e?t/r:e/c;t/=a,e/=a}ot(".sl-image").css({top:(st.innerHeight-e)/2+"px",left:(st.innerWidth-t-u)/2+"px",width:t+"px",height:e+"px"}),f.hide(),j.fadeIn("fast"),K=!0;var n,i="self"==B.captionSelector?U.eq(V):U.eq(V).find(B.captionSelector);if(n="data"==B.captionType?i.data(B.captionsData):"text"==B.captionType?i.html():i.prop(B.captionsData),B.loop||(0===V&&ot(".sl-prev").hide(),V>=U.length-1&&ot(".sl-next").hide(),0<V&&ot(".sl-prev").show(),V<U.length-1&&ot(".sl-next").show()),1==U.length&&ot(".sl-prev, .sl-next").hide(),1==s||-1==s){var o={opacity:1};B.animationSlide&&($?(et(0,100*s+"px"),setTimeout(function(){et(B.animationSpeed/1e3,"0px")},50)):o.left=parseInt(ot(".sl-image").css("left"))+100*s+"px"),ot(".sl-image").animate(o,B.animationSpeed,function(){v=!1,C(n,t)})}else v=!1,C(n,t);B.additionalHtml&&0===ot(".sl-additional-html").length&&ot("<div>").html(B.additionalHtml).addClass("sl-additional-html").appendTo(ot(".sl-image"))}}},C=function(t,e){""!==t&&void 0!==t&&B.captions&&b.html(t).css({width:e+"px"}).hide().appendTo(ot(".sl-image")).delay(B.captionDelay).fadeIn("fast")},et=function(t,e){var a={};a[i+"transform"]="translateX("+e+")",a[i+"transition"]=i+"transform "+t+"s linear",ot(".sl-image").css(a)},at=function(t,e,a){var n={};n[i+"transform"]="translate("+t+","+e+") scale("+a+")",j.css(n)},w=function(){ot(st).on("resize."+G,tt),ot(lt).on("click."+G+" touchstart."+G,".sl-close",function(t){K&&it()}),B.history&&setTimeout(function(){ot(st).on("hashchange."+G,function(){K&&F()===Q&&it()})},40),J.on("click."+G,"button",t(function(t){t.preventDefault(),z=0,nt(ot(this).hasClass("sl-next")?1:-1)},B.throttleInterval));var e,a,n,i,o,s,l,r,c,h,p,d,u,m,f,g,v,x,b,y,C,w,T,E,S,M,I,k=0,q=0,X=0,D=0,Y=!1,A=!1,O=0,R=!1,L=N(1,1,B.maxZoom),W=!1;_.on("touchstart."+G+" mousedown."+G,function(t){if("A"===t.target.tagName&&"touchstart"==t.type)return!0;if("mousedown"==(t=t.originalEvent).type)c=t.clientX,h=t.clientY,e=_.height(),a=_.width(),o=j.height(),s=j.width(),n=_.position().left,i=_.position().top,l=parseFloat(j.data("translate-x")),r=parseFloat(j.data("translate-y")),R=!0;else{if(I=t.touches.length,c=t.touches[0].clientX,h=t.touches[0].clientY,e=_.height(),a=_.width(),o=j.height(),s=j.width(),n=_.position().left,i=_.position().top,1===I){if(W)return j.addClass("sl-transition"),Y=Y?(P(0,0,L=1),at("0px","0px",L),!1):(L=B.doubleTapZoom,P(0,0,L),at("0px","0px",L),ot(".sl-caption").fadeOut(200),!0),setTimeout(function(){j.removeClass("sl-transition")},200),!1;W=!0,setTimeout(function(){W=!1},300),l=parseFloat(j.data("translate-x")),r=parseFloat(j.data("translate-y"))}else 2===I&&(p=t.touches[1].clientX,d=t.touches[1].clientY,l=parseFloat(j.data("translate-x")),r=parseFloat(j.data("translate-y")),C=(c+p)/2,w=(h+d)/2,u=Math.sqrt((c-p)*(c-p)+(h-d)*(h-d)));R=!0}return!!A||($&&(O=parseInt(_.css("left"))),A=!0,H=z=0,k=t.pageX||t.touches[0].pageX,X=t.pageY||t.touches[0].pageY,!1)}).on("touchmove."+G+" mousemove."+G+" MSPointerMove",function(t){if(!A)return!0;if(t.preventDefault(),"touchmove"==(t=t.originalEvent).type){if(!1===R)return!1;m=t.touches[0].clientX,f=t.touches[0].clientY,I=t.touches.length,0,1<I?(g=t.touches[1].clientX,v=t.touches[1].clientY,M=Math.sqrt((m-g)*(m-g)+(f-v)*(f-v)),null===u&&(u=M),1<=Math.abs(u-M)&&(y=N(M/u*L,1,B.maxZoom),T=(s*y-a)/2,E=(o*y-e)/2,S=y-L,x=s*y<=a?0:N(l-(C-n-a/2-l)/(y-S)*S,-1*T,T),b=o*y<=e?0:N(r-(w-i-e/2-r)/(y-S)*S,-1*E,E),at(x+"px",b+"px",y),1<y&&(Y=!0,ot(".sl-caption").fadeOut(200)),u=M,L=y,l=x,r=b)):(T=(s*(y=L)-a)/2,E=(o*y-e)/2,x=s*y<=a?0:N(m-(c-l),-1*T,T),b=o*y<=e?0:N(f-(h-r),-1*E,E),Math.abs(x)===Math.abs(T)&&(l=x,c=m),Math.abs(b)===Math.abs(E)&&(r=b,h=f),P(L,x,b),at(x+"px",b+"px",y))}if("mousemove"==t.type&&A){if("touchmove"==t.type)return!0;if(!1===R)return!1;m=t.clientX,f=t.clientY,T=(s*(y=L)-a)/2,E=(o*y-e)/2,x=s*y<=a?0:N(m-(c-l),-1*T,T),b=o*y<=e?0:N(f-(h-r),-1*E,E),Math.abs(x)===Math.abs(T)&&(l=x,c=m),Math.abs(b)===Math.abs(E)&&(r=b,h=f),P(L,x,b),at(x+"px",b+"px",y)}Y||(q=t.pageX||t.touches[0].pageX,D=t.pageY||t.touches[0].pageY,z=k-q,H=X-D,B.animationSlide&&($?et(0,-z+"px"):_.css("left",O-z+"px")))}).on("touchend."+G+" mouseup."+G+" touchcancel."+G+" mouseleave."+G+" pointerup pointercancel MSPointerUp MSPointerCancel",function(t){if(t=t.originalEvent,Z&&"touchend"==t.type&&(0===(I=t.touches.length)?(P(L,x,b),1==L&&(Y=!1,ot(".sl-caption").fadeIn(200)),u=null,R=!1):1===I?(c=t.touches[0].clientX,h=t.touches[0].clientY):1<I&&(u=null)),A){var e=!(A=!1);B.loop||(0===V&&z<0&&(e=!1),V>=U.length-1&&0<z&&(e=!1)),Math.abs(z)>B.swipeTolerance&&e?nt(0<z?1:-1):B.animationSlide&&($?et(B.animationSpeed/1e3,"0px"):_.animate({left:O+"px"},B.animationSpeed/2)),B.swipeClose&&50<Math.abs(H)&&Math.abs(z)<B.swipeTolerance&&it()}}).on("dblclick",function(t){return c=t.clientX,h=t.clientY,e=_.height(),a=_.width(),o=j.height(),s=j.width(),n=_.position().left,i=_.position().top,j.addClass("sl-transition"),Y?(P(0,0,L=1),at("0px","0px",L),Y=!1,ot(".sl-caption").fadeIn(200)):(L=B.doubleTapZoom,P(0,0,L),at("0px","0px",L),ot(".sl-caption").fadeOut(200),Y=!0),setTimeout(function(){j.removeClass("sl-transition")},200),!(R=!0)})},T=function(){var t=V+1<0?U.length-1:V+1>=U.length-1?0:V+1,e=V-1<0?U.length-1:V-1>=U.length-1?0:V-1;ot("<img />").attr("src",U.eq(t).attr(B.sourceAttr)).on("load",function(){-1==d.indexOf(ot(this).attr("src"))&&d.push(ot(this).attr("src")),U.eq(V).trigger(ot.Event("nextImageLoaded.simplelightbox"))}),ot("<img />").attr("src",U.eq(e).attr(B.sourceAttr)).on("load",function(){-1==d.indexOf(ot(this).attr("src"))&&d.push(ot(this).attr("src")),U.eq(V).trigger(ot.Event("prevImageLoaded.simplelightbox"))})},nt=function(e){U.eq(V).trigger(ot.Event("change.simplelightbox")).trigger(ot.Event((1===e?"next":"prev")+".simplelightbox"));var t=V+e;if(!(v||(t<0||t>=U.length)&&!1===B.loop)){V=t<0?U.length-1:t>U.length-1?0:t,ot(".sl-wrapper .sl-counter .sl-current").text(V+1);var a={opacity:0};B.animationSlide&&($?et(B.animationSpeed/1e3,-100*e-z+"px"):a.left=parseInt(ot(".sl-image").css("left"))+-100*e+"px"),ot(".sl-image").animate(a,B.animationSpeed,function(){setTimeout(function(){var t=U.eq(V);j.attr("src",t.attr(B.sourceAttr)),-1==d.indexOf(t.attr(B.sourceAttr))&&f.show(),ot(".sl-caption").remove(),tt(e),B.preloading&&T()},100)})}},it=function(){if(!v){var t=U.eq(V),e=!1;t.trigger(ot.Event("close.simplelightbox")),B.history&&(s?history.pushState("",lt.title,l.pathname+l.search):l.hash="",clearTimeout(p)),ot(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter").fadeOut("fast",function(){B.disableScroll&&E("show"),B.htmlClass&&""!=B.htmlClass&&ot("html").removeClass(B.htmlClass),ot(".sl-wrapper, .sl-overlay").remove(),J.off("click","button"),ot(lt).off("click."+G,".sl-close"),ot(st).off("resize."+G),ot(st).off("hashchange."+G),e||t.trigger(ot.Event("closed.simplelightbox")),e=!0}),j=ot(),v=K=!1}},E=function(t){var e=0;if("hide"==t){var a=st.innerWidth;if(!a){var n=lt.documentElement.getBoundingClientRect();a=n.right-Math.abs(n.left)}if(lt.body.clientWidth<a){var i=lt.createElement("div"),o=parseInt(ot("body").css("padding-right"),10);i.className="sl-scrollbar-measure",ot("body").append(i),e=i.offsetWidth-i.clientWidth,ot(lt.body)[0].removeChild(i),ot("body").data("padding",o),0<e&&ot("body").addClass("hidden-scroll").css({"padding-right":o+e})}}else ot("body").removeClass("hidden-scroll").css({"padding-right":ot("body").data("padding")});return e};if(B.close&&c.appendTo(y),B.showCounter&&1<U.length&&(g.appendTo(y),g.find(".sl-total").text(U.length)),B.nav&&J.appendTo(y),B.spinner&&f.appendTo(y),ot(lt).on("click."+G+" touchstart."+G,function(t){K&&B.docClose&&0===ot(t.target).closest(".sl-image").length&&0===ot(t.target).closest(".sl-navigation").length&&it()}),B.disableRightClick&&ot(lt).on("contextmenu",".sl-image img",function(t){return!1}),B.enableKeyboard&&ot(lt).on("keyup."+G,t(function(t){z=0;var e=t.keyCode;v&&27==e&&(j.attr("src",""),v=!1,it()),K&&(t.preventDefault(),27==e&&it(),37!=e&&39!=t.keyCode||nt(39==t.keyCode?1:-1))},B.throttleInterval)),this.open=function(t){t=t||ot(this[0]),x=U.index(t),n(t)},this.next=function(){nt(1)},this.prev=function(){nt(-1)},this.close=function(){it()},this.destroy=function(){ot(lt).off("click."+G).off("keyup."+G),it(),ot(".sl-overlay, .sl-wrapper").remove(),this.off("click")},this.refresh=function(){this.destroy(),ot(this).simpleLightbox(B)},"onmouseup"in lt){var S=!0;U.on("mousedown.maxCustomLightBox",function(t){var e=0;ot(lt).on("mousemove.maxCustomLightBox",function(){2<++e&&(S=!1,ot(lt).off("mousemove.maxCustomLightBox"))})}),U.on("mouseup.maxCustomLightBox",function(t){if(S&&a(this)){if(t.preventDefault(),v)return!1;var e=ot(this);x=U.index(e),n(e)}ot(lt).off("mousemove.maxCustomLightBox"),S=!0})}else U.on("click."+G,function(t){if(a(this)){if(t.preventDefault(),v)return!1;var e=ot(this);x=U.index(e),n(e)}});return this}}(jQuery,window,document);